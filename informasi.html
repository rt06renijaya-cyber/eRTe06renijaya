
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informasi Terbaru RT. 06</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* ============================
           GLOBAL STYLING
           ============================= */
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8fafc; 
            color: #333;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 30px 20px;
            text-align: center;
        }

        /* HEADER ELEGANT */
        .header-elegant {
            background: linear-gradient(135deg, #003636, #005c5c); 
            color: white;
            padding: 50px 20px 70px 20px;
            border-bottom-left-radius: 60px;
            border-bottom-right-radius: 60px;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.4);
            overflow: hidden;
        }
        
        .header-elegant::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="p" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 0 0 L 10 10 M 10 0 L 0 10" stroke="rgba(255,255,255,0.08)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23p)"/></svg>') repeat;
            opacity: 0.2;
            z-index: 1;
        }
        
        .header-content {
            position: relative;
            z-index: 3; 
            text-align: center;
        }

        .header-content h1 {
            font-size: 2.5em; 
            font-weight: 700;
            margin: 0 0 5px 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .header-content p {
            font-size: 1.1em;
            opacity: 0.85;
            font-weight: 300;
        }
        
        .breadcrumb {
            margin-top: 20px;
            font-size: 0.9em;
            opacity: 0.9;
            color: #d1e5e5;
        }
        .breadcrumb a {
            color: #ffc107;
            text-decoration: none;
        }
        .breadcrumb a:hover {
            text-decoration: underline;
        }

        /* ============================
           SECTION STYLING
           ============================= */
        h2 {
            font-size: 2.2em;
            font-weight: 700;
            color: #004d40;
            margin-bottom: 10px;
            margin-top: 40px;
        }
        
        .divider {
            width: 80px;
            height: 4px;
            background-color: #007bff;
            margin: 0 auto 40px auto;
            border-radius: 2px;
        }

        /* ============================
           INFORMASI CARDS
           ============================= */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            text-align: left;
            margin-top: 20px;
        }

        .info-card {
            background-color: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            border-left: 5px solid #007bff; /* Warna default */
            transition: all 0.3s;
        }
        
        .info-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .info-card h3 {
            color: #004d40;
            font-size: 1.3em;
            font-weight: 600;
            margin-top: 0;
        }
        
        .info-meta {
            font-size: 0.9em;
            color: #6c757d;
            margin-bottom: 15px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        
        .info-meta i {
            margin-right: 5px;
            color: #007bff; /* Warna default */
        }

        .info-card p {
            font-size: 0.95em;
            color: #555;
            margin-bottom: 20px;
        }
        
        .btn-readmore {
            display: inline-block;
            color: #007bff;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.9em;
            cursor: pointer;
        }
        .btn-readmore:hover {
            text-decoration: underline;
        }
        
        /* Styling Khusus Jadwal (Data statis) */
        .schedule-card {
            border-left-color: #ffc107;
        }
        .schedule-card .info-meta i {
            color: #ffc107;
        }


        /* BUTTON BACK TO HOME */
        .back-button-container {
            text-align: center;
            margin-top: 40px;
        }

        .btn-back {
            background-color: #004d40;
            color: white;
            padding: 10px 25px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: background-color 0.3s;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        .btn-back:hover {
            background-color: #003636;
        }

        /* FOOTER */
        .footer {
            background: linear-gradient(135deg, #002e28, #004d40);
            color: #e0ffff;
            text-align: center;
            padding: 40px 15px;
            border-top-left-radius: 30px;
            border-top-right-radius: 30px;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.2);
            margin-top: 50px;
        }
        
        .footer p {
            margin: 5px 0;
            font-size: 0.9em;
            opacity: 0.9;
        }
        
        .footer a {
            color: #ffc107;
            text-decoration: none;
            transition: color 0.3s;
        }
        .footer a:hover {
            color: #fff;
        }

        /* Responsive */
        @media(max-width: 768px) {
            .header-elegant {
                padding: 40px 15px 50px 15px;
                border-bottom-left-radius: 30px;
                border-bottom-right-radius: 30px;
            }
            .header-content h1 {
                font-size: 2em;
            }
            .info-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>

    <div class="header-elegant">
        <div class="header-content">
            <div class="breadcrumb">
                <a href="warga06.html"><i class="fas fa-home"></i> Portal Warga</a> &gt; Informasi
            </div>
            <h1>Pusat Informasi & Pengumuman</h1>
            <p>Berita terbaru, pengumuman penting, dan jadwal kegiatan resmi dari Pengurus RT. 06.</p>
        </div>
    </div>

    <div class="container">
        
        <h2>Pengumuman Terbaru</h2>
        <div class="divider"></div>

        <div class="info-grid" id="announcementGrid">
            
            <div class="info-card">
                <h3><i class="fas fa-volume-up"></i> Musyawarah Warga Rutin Bulanan</h3>
                <div class="info-meta">
                    <i class="fas fa-calendar-alt"></i> 25 November 2025 | 
                    <i class="fas fa-user-tie"></i> Ketua RT. 06
                </div>
                <p>Diundang seluruh Kepala Keluarga untuk menghadiri Musyawarah Rutin. Agenda: Evaluasi Keamanan dan Rencana Kegiatan Akhir Tahun.</p>
                <a href="#" class="btn-readmore" onclick="alert('Detail: Musyawarah Rutin akan membahas anggaran tahun depan dan pemilihan pengurus baru. Mohon kehadiran semua Bapak/Ibu tepat waktu.')">
                    Baca Detail Selengkapnya <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        </div>
        
        
        <h2>Jadwal Kegiatan Mendatang</h2>
        <div class="divider" style="background-color: #ffc107;"></div>
        
        <div class="info-grid">

            <div class="info-card schedule-card">
                <h3><i class="fas fa-running"></i> Lomba Kemerdekaan Tahun 2025</h3>
                <div class="info-meta">
                    <i class="fas fa-clock"></i> 17 Agustus 2025 | 
                    <i class="fas fa-map-pin"></i> Lapangan RT. 06
                </div>
                <p>Pendaftaran lomba 17-an dibuka mulai minggu depan. Segera daftarkan tim Anda!</p>
                <a href="#" class="btn-readmore" onclick="alert('Detail Lomba: Kategori yang dilombakan adalah Balap Karung, Makan Kerupuk, dan Tarik Tambang. Hubungi Seksi Pemuda.')">
                    Lihat Kategori Lomba <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        </div>

        <div class="back-button-container">
            <a href="warga06.html" class="btn-back">
                <i class="fas fa-arrow-left"></i> Kembali ke Portal Utama
            </a>
        </div>

    </div>

    <div class="footer">
        <p>Portal Warga RT. 06 Reni Jaya</p>
        <p>&copy; 2025 Hak Cipta Dilindungi.<br>Dikelola oleh Pengurus RT. 06 | <a href="#">Kebijakan Privasi</a></p>
    </div>

    <script>
        // GANTI URL INI DENGAN URL APPS SCRIPT WEB APP ANDA YANG SEBENARNYA
        const APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwkhFKU_ok2eln2xMixs2EDoeBIcRo9jxJsPjNNob3K4qml6SgSBeEXJhnbvce2L-9RyQ/exec'; 

        function loadAnnouncements() {
            const infoGrid = document.getElementById('announcementGrid');
            
            // Tampilkan loading state
            infoGrid.innerHTML = `
                <p style="grid-column: 1 / -1; text-align:center; color:#005c5c; margin-top:20px;">
                    <i class="fas fa-spinner fa-spin"></i> Memuat data pengumuman terbaru dari server...
                </p>
            `;

            // Ambil data dari Apps Script menggunakan Fetch API (metode GET)
            fetch(APPS_SCRIPT_URL)
            .then(response => response.json())
            .then(result => {
                // Hapus placeholder/loading (dan item statis pertama)
                infoGrid.innerHTML = ''; 
                
                const announcements = result.data;
                
                if (announcements.length === 0) {
                    const defaultMessage = document.createElement('p');
                    defaultMessage.innerHTML = 'Saat ini belum ada pengumuman terbaru dari pengurus RT.';
                    defaultMessage.style.cssText = 'grid-column: 1 / -1; margin-top: 20px; font-style: italic; color: #777; text-align: center;';
                    infoGrid.appendChild(defaultMessage);
                    return;
                }
                
                // Tampilkan maksimal 6 item terbaru dari Google Sheet
                const displayLimit = Math.min(announcements.length, 6); 

                for (let i = 0; i < displayLimit; i++) {
                    const item = announcements[i];
                    
                    // Format Tanggal (data tanggal dari Sheets biasanya string YYYY-MM-DD)
                    const dateString = item.tanggal; 
                    const dateObj = new Date(dateString + 'T00:00:00');
                    const formattedDate = dateObj.toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' });
                    
                    // Tentukan ikon dan warna border berdasarkan kategori
                    let iconClass = 'fas fa-volume-up';
                    let borderColor = '#007bff'; // Biru Default
                    
                    if (item.kategori === 'keamanan') {
                        iconClass = 'fas fa-shield-alt';
                        borderColor = '#dc3545'; // Merah
                    } else if (item.kategori === 'keuangan') {
                        iconClass = 'fas fa-hand-holding-usd';
                        borderColor = '#ffc107'; // Kuning
                    } else if (item.kategori === 'darurat') {
                        iconClass = 'fas fa-exclamation-triangle';
                        borderColor = '#dc3545'; 
                    }

                    // Buat elemen card baru
                    const card = document.createElement('div');
                    card.className = 'info-card';
                    card.style.borderLeftColor = borderColor;
                    
                    // Menampilkan 150 karakter pertama konten
                    const truncatedContent = item.konten.substring(0, 150) + (item.konten.length > 150 ? '...' : '');

                    card.innerHTML = `
                        <h3><i class="${iconClass}"></i> ${item.judul}</h3>
                        <div class="info-meta">
                            <i class="fas fa-calendar-alt" style="color:${borderColor};"></i> ${formattedDate} | 
                            <i class="fas fa-user-tie" style="color:${borderColor};"></i> ${item.penanggungJawab}
                        </div>
                        <p>${truncatedContent}</p>
                        <a href="#" class="btn-readmore" onclick="alert('DETAIL PENGUMUMAN - ${item.judul}\\n\\nTanggal: ${formattedDate}\\nPenanggung Jawab: ${item.penanggungJawab}\\nKonten Lengkap:\\n${item.konten}')">
                            Baca Detail Selengkapnya <i class="fas fa-arrow-right"></i>
                        </a>
                    `;
                    
                    // Tambahkan card ke grid
                    infoGrid.appendChild(card);
                }
                
                // Tambahkan lagi card statis (placeholder) setelah card dinamis
                const staticCard = `
                    <div class="info-card">
                        <h3><i class="fas fa-volume-up"></i> Musyawarah Warga Rutin Bulanan</h3>
                        <div class="info-meta">
                            <i class="fas fa-calendar-alt"></i> 25 November 2025 | 
                            <i class="fas fa-user-tie"></i> Ketua RT. 06
                        </div>
                        <p>Diundang seluruh Kepala Keluarga untuk menghadiri Musyawarah Rutin. Agenda: Evaluasi Keamanan dan Rencana Kegiatan Akhir Tahun.</p>
                        <a href="#" class="btn-readmore" onclick="alert('Detail: Musyawarah Rutin akan membahas anggaran tahun depan dan pemilihan pengurus baru. Mohon kehadiran semua Bapak/Ibu tepat waktu.')">
                            Baca Detail Selengkapnya <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                `;
                 // Gunakan appendChild untuk menambahkan card statis ke grid
                 if (document.querySelector('.info-card:not(.schedule-card)') && announcements.length < 6) {
                    infoGrid.insertAdjacentHTML('beforeend', staticCard);
                }

            })
            .catch(error => {
                // Tampilkan pesan error jika gagal mengambil data
                infoGrid.innerHTML = `
                    <p style="grid-column: 1 / -1; text-align:center; color:#dc3545; margin-top:20px; font-weight:600;">
                        <i class="fas fa-exclamation-circle"></i> Gagal memuat data. Mohon cek URL Apps Script atau koneksi internet.
                    </p>
                `;
                console.error('Error fetching data from Apps Script:', error);
            });
        }

        // Panggil fungsi saat halaman dimuat
        document.addEventListener('DOMContentLoaded', () => {
            // Tunggu sebentar agar efek loading bisa dilihat
            setTimeout(loadAnnouncements, 500); 
        });
    </script>

</body>
</html>
